{% extends 'base.html' %}

{% block title %}Admin Portal{% endblock %}

{% block content %}

<div class="container-fluid">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}" role="alert" id="flashMessage">
                    <p class="text-center">{{ message }}</p>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
</div>

<div class="container my-5 text-white">
    <div class="row py-4 justify-content-center">
        <div class="col-9 my-4">
            <table class="my-1">Athletes
                <tr>
                    <th>Name</th>
                    <th>School</th>
                    <th>Sport</th>
                    <th>Position</th>
                    <th>Shop Items</th>
                </tr>
                {% for player in players %}
                <tr>
                    <th>{{ player.first_name }} {{ player.last_name }}</th>
                    <th>{{ player.school }}</th>
                    <th>{{ player.sport }}</th>
                    <th>{{ player.position }}</th>
                    <th>{{ player.shop_items }}</th>
                </tr>
                {% endfor %}
            </table>
        </div>
        <div class="col-9 my-4">
            <table class="my-1">Shop Items
                <tr>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Description</th>
                    <th>Player Connection</th>
                </tr>
                {% for item in shop_items %}
                <tr>
                    <th>{{ item.name }}</th>
                    <th>{{ item.price }}</th>
                    <th>description</th>
                    {% if item.player_id %}
                    <th>{{ get_player(item.player_id).first_name }} {{ get_player(item.player_id).last_name }}</th>
                    {% endif %}
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
</div>

{% endblock %}
